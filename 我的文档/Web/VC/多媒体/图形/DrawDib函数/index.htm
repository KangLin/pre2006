<html>

<head>
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>DrawDib Functions</title>
</head>

<body>

<h2>DrawDib Functions</h2>
<p>An application uses DrawDib functions to create and manage a DrawDib DC, 
display and update images on-screen, manipulate palettes, and to close the 
DrawDib DC when it's no longer needed. The DrawDib functions also include a 
timing function and a test function to determine display characteristics.</p>
<p>The following functions are used with DrawDib.</p>
<table cellSpacing="4" cols="2">
	<tr vAlign="top">
		<th align="left" width="23%">　</th>
		<th align="left" width="76%">　</th>
	</tr>
	<tr vAlign="top">
		<td width="100%" colSpan="2">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_7usu.htm">
		<b>DrawDibBegin</b></a></td>
		<td width="76%">改变DrawDib的参数或重新初始化一个DrawDib</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_2l45.htm">
		<b>DrawDibChangePalette</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_7hut.htm">
		<b>DrawDibClose</b></a></td>
		<td width="76%">关闭DrawDib库并释放资源</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_76if.htm">
		<b>DrawDibDraw</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_3y04.htm">
		<b>DrawDibEnd</b></a></td>
		<td width="76%">&nbsp;清除标志开始另一个绘图</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_48mq.htm">
		<b>DrawDibGetBuffer</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_0mlh.htm">
		<b>DrawDibGetPalette</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_8tda.htm">
		<b>DrawDibOpen</b></a></td>
		<td width="76%">为用户打开DrawDib库并建立DrawDib句柄</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_2qwp.htm">
		<b>DrawDibProfileDisplay</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_5j39.htm">
		<b>DrawDibRealize</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_09ut.htm">
		<b>DrawDibSetPalette</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_4pv8.htm">
		<b>DrawDibStart</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_1nlc.htm">
		<b>DrawDibStop</b></a></td>
		<td width="76%">　</td>
	</tr>
	<tr vAlign="top">
		<td width="23%">
		<a href="mk:@MSITStore:g:/PROGRAME/MSDN/MSDN/MultiMed.chm::/devdoc/live/pdref/mmfunc_6azp.htm">
		<b>DrawDibTime</b></a></td>
		<td width="76%">　</td>
	</tr>
</table>
<br>
步骤:<p>一、打开DrawDib库并得到其句柄:</p>
<p>HDRAWDIB m_hdrawdib = DrawDibOpen();</p>
<p>二、初始化DrawDib:<br>
if(m_hdrawdib != NULL)<br>
{ <br>
&nbsp;&nbsp; ::DrawDibBegin(m_hdrawdib,<br>
&nbsp;&nbsp; m_hdc,<br>
&nbsp;&nbsp; -1, // 不进行缩放<br>
&nbsp;&nbsp; -1, // 不进行缩放<br>
&nbsp;&nbsp; &amp;m_bmpInfo.bmiHeader,<br>
&nbsp;&nbsp; IMAGE_WIDTH, //图像的宽度 <br>
&nbsp;&nbsp; IMAGE_HEIGHT, //图像的高度 <br>
&nbsp;&nbsp; 0 <br>
);</p>
<p>三、画图：<br>
::DrawDibDraw(m_hdrawdib,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
m_hdc,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0, // dest : left pos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0, // dest : top pos<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -1, // 
don't zoom x<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -1, // 
don't zoom y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&amp;m_bmpInfo.bmiHeader, // bmp header info<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pData, 
// bmp data<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0, // 
src :left<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0, // 
src :top<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
IMAGE_WIDTH, // src : width<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
IMAGE_HEIGHT, // src : height<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
DDF_SAME_DRAW // use prev params....<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );</p>
<p>四、结束并关闭DrawDib库<br>
if(m_hdrawdib != NULL)<br>
{<br>
&nbsp;&nbsp; ::DrawDibEnd(m_hdrawdib);<br>
&nbsp;&nbsp; ::DrawDibClose(m_hdrawdib);<br>
}<br>
<br>
<br>
　</p>

</body>

</html>
